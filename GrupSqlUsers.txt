Users

-- 1) Login la nivel de server pentru grup
USE [master];
GO
IF NOT EXISTS (SELECT 1 FROM sys.server_principals WHERE name = N'TOYOTA\SeifDigital_Users')
BEGIN
    CREATE LOGIN [TOYOTA\SeifDigital_Users] FROM WINDOWS;
END
GO

-- 2) User în baza ta
USE [SeifDate];
GO
IF NOT EXISTS (SELECT 1 FROM sys.database_principals WHERE name = N'TOYOTA\SeifDigital_Users')
BEGIN
    CREATE USER [TOYOTA\SeifDigital_Users] FOR LOGIN [TOYOTA\SeifDigital_Users];
END
GO

-- 3) Drepturi minime pentru aplica?ie (citire/scriere)
ALTER ROLE db_datareader ADD MEMBER [TOYOTA\SeifDigital_Users];
ALTER ROLE db_datawriter ADD MEMBER [TOYOTA\SeifDigital_Users];
GO




Admins:
USE [master];
GO
IF NOT EXISTS (SELECT 1 FROM sys.server_principals WHERE name = N'TOYOTA\SeifDigital_Admins')
BEGIN
    CREATE LOGIN [TOYOTA\SeifDigital_Admins] FROM WINDOWS;
END
GO

USE [SeifDate];
GO
IF NOT EXISTS (SELECT 1 FROM sys.database_principals WHERE name = N'TOYOTA\SeifDigital_Admins')
BEGIN
    CREATE USER [TOYOTA\SeifDigital_Admins] FOR LOGIN [TOYOTA\SeifDigital_Admins];
END
GO

-- Admins: tot ce au Users + drepturi extra (de obicei tot db_datawriter e suficient)
ALTER ROLE db_datareader ADD MEMBER [TOYOTA\SeifDigital_Admins];
ALTER ROLE db_datawriter ADD MEMBER [TOYOTA\SeifDigital_Admins];
GO
